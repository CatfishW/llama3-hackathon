# Voice Chat + LLM Integration - Debug Configuration
# Set these environment variables before running the backend

# ============================================================================
# Logging Configuration
# ============================================================================

# Enable debug logging for voice chat
DEBUG_MODE=true
LOG_LEVEL=DEBUG

# FastAPI/Uvicorn debug
UVICORN_LOG_LEVEL=debug

# ============================================================================
# SST (Speech-to-Text) Configuration
# ============================================================================

# SST Broker settings - Using remote server at 173.61.35.162:25567
SST_BROKER_HOST=0.0.0.0
SST_BROKER_PORT=9082
SST_BROKER_URL=http://localhost:8082
SST_REQUEST_TIMEOUT=300.0
SST_BROKER_LOG_LEVEL=DEBUG

# Remote SST Server (direct connection)
REMOTE_SST_HOST=173.61.35.162
REMOTE_SST_PORT=25567

# ============================================================================
# TTS (Text-to-Speech) Configuration
# ============================================================================

# TTS Broker settings - Using remote server at 173.61.35.162:25566
TTS_BROKER_HOST=0.0.0.0
TTS_BROKER_PORT=8080
TTS_BROKER_URL=http://localhost:8081
TTS_REQUEST_TIMEOUT=30.0
TTS_BROKER_LOG_LEVEL=DEBUG

# Remote TTS Server (direct connection)
REMOTE_TTS_HOST=173.61.35.162
REMOTE_TTS_PORT=25566

# TTS Voice options
TTS_VOICES=af_heart,af,am,bf,bm
TTS_DEFAULT_VOICE=af_heart
TTS_DEFAULT_SPEED=1.0

# ============================================================================
# LLM Configuration
# ============================================================================

# LLM Communication Mode
LLM_COMM_MODE=sse  # or mqtt

# Direct HTTP (SSE mode)
LLM_SERVER_URL=http://localhost:8000
LLM_TIMEOUT=120.0
LLM_TEMPERATURE=0.7
LLM_TOP_P=0.95
LLM_MAX_TOKENS=2000
LLM_SKIP_THINKING=false
LLM_MAX_HISTORY_TOKENS=4000

# ============================================================================
# FastAPI Backend Configuration
# ============================================================================

# Backend server
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
BACKEND_LOG_LEVEL=DEBUG
BACKEND_RELOAD=true

# Database
DATABASE_URL=sqlite:///./test.db

# ============================================================================
# Debug Endpoints
# ============================================================================

# Health check endpoints (test these first)
# GET http://localhost:9082/healthz      # SST broker health
# GET http://localhost:8080/healthz      # TTS broker health
# GET http://localhost:8000/api/voice/health  # Voice service health

# ============================================================================
# Testing Voice Pipeline
# ============================================================================

# 1. Record audio or use existing test audio file
# 2. Convert to base64: cat audio.wav | base64

# 3. Test voice message endpoint:
# POST http://localhost:8000/api/voice/message
# Headers: Authorization: Bearer <token>
# Body:
# {
#   "audio_base64": "<base64-encoded-audio>",
#   "language": "en",
#   "voice": "af_heart",
#   "speed": 1.0,
#   "system_prompt": "You are a helpful assistant"
# }

# 4. Test WebSocket:
# WS ws://localhost:8000/api/voice/ws/voice
# Send: {"type": "voice_message", "audio_base64": "<...>", ...}
